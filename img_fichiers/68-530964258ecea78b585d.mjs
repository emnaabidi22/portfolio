(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[68,11],{"0rqB":function(e,t,i){i.d(t,"a",(function(){return d}));var a=i("q1tI"),n=i("clxp"),s=i("n6mq"),r=i("nKUr");function o({children:e,group:t,isEligible:i,name:a,performsActivate:n}){let o=n?"#0f0":"#00f";return i||(o="#999"),Object(r.jsxs)(s.e,{position:"relative",children:[e,Object(r.jsx)(s.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 2px 2px "+o,borderRadius:5}}}),Object(r.jsxs)(s.e,{position:"absolute",top:!0,left:!0,color:"lightGray",children:[a,": ",t]})]})}var l=i("NVsV");const c=Object(a.memo)(({activate:e=!0,activateExperiment:t,isEligible:i=!0,name:s,group:l,overrideGroup:c=null,highlighted:d=!1,children:h})=>{Object(a.useEffect)(()=>{e&&i&&t&&t(s)},[]);const u=()=>"string"==typeof c?c:l,p=u(),m=`Experiment(${s}:${p})`,b=i&&p&&(p.startsWith("enabled")||p.startsWith("employee"))||!1,y={group:i?p:"",anyEnabled:b,customActivate:i&&!e?()=>i?t(s):"":null};return(t=>{const a=u();return d?Object(r.jsx)(o,{group:a,isEligible:i,name:s,performsActivate:e,children:t}):t})(Object(r.jsx)(n.a,{name:m,children:h(y)}))});function d(e){const{name:t}=e,{debuggingEnabled:i,overriddenExperiments:n,highlightedExperiment:s,setExperimentVisible:o}=Object(a.useContext)(l.c),d=i&&n&&"string"==typeof n[t]?n[t]:null,h=i&&(s===t||s===l.a);return Object(a.useEffect)(()=>{if(i)return o(t,!0),()=>o(t,!1)},[t,i]),Object(r.jsx)(c,{...e,overrideGroup:d,highlighted:h})}},"4jWr":function(e,t,i){i.d(t,"a",(function(){return a}));const a=200;t.b=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},"51gp":function(e,t,i){i.d(t,"a",(function(){return P}));var a=i("q1tI"),n=i("sEfC"),s=i.n(n),r=i("qrav");var o=i("BEAQ"),l=i("jgRP"),c=i("9pre"),d=i("U4JR"),h=i("n6mq"),u=i("nKUr");function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=[0,.25,.5,.75,.95,.97],b=[0,.5,.8,1],y={threshold:b},f={rootMargin:"-64px 0px 0px 0px",threshold:c.c},g=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function v(){return(new Date).getTime()}function S(e){return!!e.volume&&e.volume>0}class P extends a.Component{constructor(e){super(e),p(this,"videoWrapperRef",Object(a.createRef)()),p(this,"handleWindowResize",()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),p(this,"handlePlayheadDown",({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),p(this,"handlePlayheadUp",({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),p(this,"handleLoop",()=>{this.videoTime=0}),p(this,"handleTimeChange",e=>{const{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;const a=1e3*e.time,n=function(e,t,i,a){if(e>t)return null;if(i<=0)return null;for(const n of a){const a=n*i;if(e<=a&&t>a)return n}return null}(this.videoTime,a,this.currentInterval.videoDuration,m);if("number"==typeof n&&this.props.playing&&!t&&i){const e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*n),quartilePercentValue:n})}this.videoTime=a,this.props.onTimeChange&&this.props.onTimeChange(e)}),p(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),p(this,"handleReady",e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),p(this,"handleVisibilityChange",(e,t)=>{if(0===e.length)return;const i=e.slice(-1)[0],a=function(e,t){for(let i=0;i<t.length;i+=1){const a=t[i],n=t[i+1];if(null==n)return a;if(a<=e&&e<n)return a}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),b);null==a||a===this.currentInterval.viewability||this.fullscreen||(0===a?this.startNewInterval({viewability:a,playbackState:g.PAUSED}):this.startNewInterval({viewability:a}))}),p(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),p(this,"handleClose",()=>{this.startNewInterval()}),p(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};const t=v();this.handleWindowResize=s()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:S(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const i={};S(e)&&!S(this.props)?i.isAudible=!1:!S(e)&&S(this.props)&&(i.isAudible=!0);const a=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==a&&(i.playbackState=a),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?g.PLAYING:g.PAUSED:g.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:i}=this.props,{height:a,width:n,windowHeight:s,windowWidth:r,viewability:o,...l}=t;if(null!=a&&null!=n&&null!=s&&null!=r&&null!=o){const t={...l,height:a,width:n,windowHeight:s,windowWidth:r,viewability:o};Object(d.b)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:i,endTime:a,videoStartTime:n,videoEndTime:s,isAudible:r,height:o,width:l,playbackState:c,quartile:d,quartilePercentValue:h,windowHeight:u,windowWidth:p,viewability:m}},...b}=e;return{...b,eventData:{videoEventData:{videoDuration:t,time:i,endTime:a,videoTime:n,endVideoTime:s,isAudible:r,height:o,width:l,playbackState:c,quartile:d,quartilePercentValue:h,windowHeight:u,windowWidth:p,viewability:m}}}}({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=v();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:c,captions:d,contextLogData:h,controls:p,cropHeight:m,hlsConfig:b,inAdsDesktopVideoExperiment:g,loop:v,objectFit:S,onLoadedChange:P,onPause:w,onPlay:T,onSeek:E,onVolumeChange:D,playbackRate:L,playing:j,playsInline:x,poster:k,preload:C,rootMargin:O,src:R,surface:V,videoStartTime:I,volume:M}=this.props,{seeking:A}=this.state,_=g?f:y;return void 0!==O&&(_.rootMargin=V?Object(l.a)(V):O),Object(u.jsx)(r.a,{options:_,onVisibilityChange:this.handleVisibilityChange,children:Object(u.jsx)("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,style:m?{display:"flex",alignItems:"center",height:"236px"}:{},children:Object(u.jsx)(o.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:c,captions:d,contextLogData:h,controls:p,hlsConfig:b,loop:v,objectFit:S,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:P,onLoop:this.handleLoop,onPause:w,onPlay:T,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:E,onTimeChange:this.handleTimeChange,onVolumeChange:D,playbackRate:L,playing:!A&&j,playsInline:x,poster:k,preload:C,src:R,videoStartTime:I,volume:M})})})}}p(P,"defaultProps",h.fb.defaultProps)},"9pre":function(e,t,i){i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s}));const a=5,n="V_HLSV3_MOBILE",s=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},BEAQ:function(e,t,i){i.r(t),i.d(t,"getPlaylistSourceSrc",(function(){return c})),i.d(t,"default",(function(){return d}));var a=i("q1tI"),n=i("PioT"),s=i("TqFJ"),r=i("aFfM"),o=(i("n6mq"),i("nKUr"));function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const c=e=>{if(Array.isArray(e)){const t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class d extends a.PureComponent{constructor(e){super(e),l(this,"componentDidUpdate",(e,t)=>{var i;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(i=this.videoPlayerRef)&&void 0!==i&&i.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),l(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),l(this,"handleOnEnded",({event:e})=>{const{loop:t,onLoop:i,onEnded:a}=this.props;a&&(a({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),i&&i()))});const t=c(e.src);this.state={useHlsVideo:!e.preferMp4&&!n.b.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:l,aspectRatio:d,captions:h,contextLogData:u,controls:p,hlsConfig:m,loop:b,objectFit:y,onDurationChange:f,onEnded:g,onFullscreenChange:v,onLoadedChange:S,onPause:P,onPlay:w,onPlayheadDown:T,onPlayheadUp:E,onReady:D,onSeek:L,onTimeChange:j,onVolumeChange:x,playbackRate:k,playing:C,playsInline:O,poster:R,preferMp4:V,preload:I,src:M,videoStartTime:A,volume:_}=this.props,{useHlsVideo:F}=this.state,W=c(M),U={...m,startPosition:A||-1},H=!g&&b;return F&&W?Object(o.jsx)(r.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:l,aspectRatio:d,captions:h,contextLogData:u,controls:p,hlsConfig:U,loop:b,loopOveride:H,onDurationChange:f,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:S,onPause:P,onPlay:w,onPlayheadDown:T,onPlayheadUp:E,onReady:D,onSeek:L,onTimeChange:j,onVolumeChange:x,playbackRate:k,playing:C,playsInline:O,poster:R,preload:I,setVideoRef:this.setVideoPlayerRef,src:W,volume:_}):Object(o.jsx)(s.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:l,aspectRatio:d,captions:h,contextLogData:u,controls:p,loop:b,loopOveride:H,objectFit:y,onDurationChange:f,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:S,onPause:P,onPlay:w,onPlayheadDown:T,onPlayheadUp:E,onReady:D,onSeek:L,onTimeChange:j,onVolumeChange:x,playbackRate:k,playing:C,playsInline:O,poster:R,preload:I,setVideoRef:this.setVideoPlayerRef,src:V?M:W||M,videoStartTime:A,volume:_})}}},BcvT:function(e,t,i){var a=i("q1tI"),n=i("nKUr");function s({anchor:e,children:t,zIndex:i}){const s=Object(a.useRef)(null),[r,o]=Object(a.useState)(0),[l,c]=Object(a.useState)(0),{height:d,width:h}=e.getBoundingClientRect();return Object(a.useEffect)(()=>{const{current:t}=s;if(e&&t){const{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:a,verticalOffset:n}=((e,t,i,a)=>({horizontalOffset:-(a/2-t/2),verticalOffset:-(i/2-e/2)}))(d,h,e,i);o(a),c(n)}},[d,h,s.current]),Object(n.jsx)("div",{ref:s,style:{left:r,position:"absolute",top:l,zIndex:i},children:t})}var r=i("n6mq");t.a=function(e){const{anchor:t,onTouch:i,paused:a,size:o,zIndex:l}=e;return t?Object(n.jsx)(s,{anchor:t,zIndex:l,children:Object(n.jsx)(r.X,{fullWidth:!1,onTap:({event:e})=>i(e),rounding:"circle",children:Object(n.jsx)(r.J,{paused:a,size:o})})}):null}},EC51:function(e,t,i){var a=i("q1tI"),n=i("zwad"),s=i("n6mq"),r=i("gqRH"),o=i("nKUr");const l=Object(a.forwardRef)((e,t)=>{const{accessibilityLabel:i,children:a,hoverStyle:l,href:c,id:d,inline:h,onBlur:u,onClick:p,onFocus:m,target:b}=e,y=n.a.isOffsiteUrl(c);return Object(o.jsx)(r.a,{href:c,target:y?null:b,children:({handleClick:e})=>Object(o.jsx)(s.A,{accessibilityLabel:i,hoverStyle:l,href:c,id:d,inline:h,onBlur:u,onClick:({event:t,disableOnNavigation:i})=>{i(),null==p||p({event:t}),e({event:t})},onFocus:m,ref:t,rel:y?"nofollow":void 0,children:a})})});l.displayName="Link",t.a=l},ESls:function(e,t,i){i.d(t,"a",(function(){return r}));var a=i("0rqB"),n=i("pLLR"),s=i("nKUr");function r({activate:e,children:t,isEligible:i,name:r}){return Object(s.jsx)(n.b,{children:n=>Object(s.jsx)(a.a,{activate:e,activateExperiment:e=>n.experiments.v2ActivateExperiment(e)||"",group:n.experiments.v2GetGroup(r)||"",isEligible:i,name:r,children:t})})}},Lic6:function(e,t,i){i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return h}));var a=i("7w6Q"),n=i("Xy1J");const s=["isCellular","videoUrl","sessionMark"],r=["fatalError"];let o={},l="";const c=e=>{const{browserName:t,browserVersion:i,country:a,isAuthenticated:n,isBot:s,isSocialBot:r,view:c="unknown",viewParameter:d="unknown"}=e;l=(r?"socialBot":s&&"bot")||"nonbot";const h=(e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}})(a);o={browserName:t,browserVersion:(null==i?void 0:i.split(".")[0])||"0",isAuthenticated:n,region:h,view:c,viewParameter:d}};function d(e,t,i={}){const n=t?"hls":"nonHls",s={...i,...o},r=`web.video.${n}.${l}.${e}`;a.a.increment(r,1,s)}function h(e,t,i={}){const c=t?"hls":"nonHls",d=e.sessionMark===n.e?"sessionStart":"sessionEnd",h={...i,...o};if(Object.entries(e).forEach(([e,t])=>{const i=`web.video.${c}.${l}.${d}.${e}`,n=parseInt(t,10),o="number"==typeof n?n:-1;var u;if(!s.includes(e))if(r.includes(e)&&t)a.a.increment(i,1,h);else if(e.includes("Width")||e.includes("Height")){const e=(u=o)<0?"negative":0===u?"zero":u<200?"xs":u<400?"s":u<600?"m":u<800?"l":u<1e3?"xl":u<1200?"xxl":"over1200";a.a.increment(i,1,{dimensionBucket:e,...h})}else if("numberOfStalls"===e){let e=t;o>1e3?e="over1000":o>10?e="over10":o<0&&(e="negative"),a.a.increment(i,1,{numberOfStalls:e,...h})}else"screenPixelRatio"===e?a.a.increment(i,1,{screenPixelRatio:t||-1,...h}):o>=0?(0===o&&a.a.increment(i+".zero",1,h),a.a.timing(i,o,1),a.a.timing(i+"_with_tags",o,1,h)):o<0&&a.a.increment(i+".negative",1,h)}),e.sessionMark!==n.e){const{rebufferRate:t,startupLatencyMs:i,startupVariantWidth:n,startupPlayerWidth:s}=e,r=`web.video.${c}.${l}.${d}`;if(n&&s){const e=1.5*n>2*s;a.a.increment(`${r}.upscaled.${e?"good":"bad"}`,1,h)}"number"==typeof i&&a.a.increment(`${r}.startupLatency.${i<500?"good":"bad"}`,1,h),"number"==typeof t&&a.a.increment(`${r}.rebufferRate.${t<.01?"good":"bad"}`,1,h)}}},M1Uz:function(e,t,i){i.d(t,"a",(function(){return o}));var a=i("q1tI"),n=i("4jWr"),s=i("n6mq"),r=i("nKUr");function o({color:e="white",duration:t=2e3,href:i,iconThumbnail:o,imageUrl:l,onClick:c,onHide:d,openNewPage:h,text:u,button:p,thumbnailShape:m="square",dataTestId:b}){const[y,f]=Object(a.useState)(!1),[g,v]=Object(a.useState)(!1),S=Object(a.useRef)(),P=()=>{f(!0),S.current=setTimeout(d,n.a)},w=()=>{S.current&&clearTimeout(S.current)},T=()=>{S.current=setTimeout(P,t)};Object(a.useEffect)(()=>(setTimeout(()=>v(!0),100),T(),w),[]);const E="string"==typeof u?u:`${u[0]} ${u[1]}`,D=l?Object(r.jsx)(s.e,{height:48,overflow:"hidden",width:48,children:Object(r.jsx)(s.w,{alt:E,fit:"cover",naturalHeight:1,naturalWidth:1,src:l})}):void 0,L=Object(r.jsx)(s.bb,{color:e,text:u,thumbnail:null!=o?o:D,button:p,thumbnailShape:m});return Object(r.jsx)("div",{style:Object(n.b)(g,y),onMouseEnter:w,onMouseLeave:T,"data-test-id":null!=b?b:"toast",children:i?Object(r.jsx)("a",{href:i,onClick:c,target:h?"_blank":null,rel:h?"noopener noreferrer":null,children:L}):L})}},NVsV:function(e,t,i){i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var a=i("q1tI");const n="__ALL__",s="__NONE__",r={canEnableDebugger:!1,setDebuggerVisible:()=>{},debuggerVisible:!1,setDebuggingEnabled:()=>{},debuggingEnabled:!1,highlightExperiment:e=>{},highlightedExperiment:s,overrideExperiment:(e,t)=>{},overriddenExperiments:{},visibleExperimentCounts:{},setExperimentVisible:(e,t)=>{}},o=Object(a.createContext)(r);t.c=o},PioT:function(e,t,i){var a=i("+NLT"),n=i("3Qy3");i.d(t,"a",(function(){return n.a}));const s={getBrowser:()=>Object(n.b)(a.a.instance.browser_name||""),isSafari(){return this.getBrowser()===n.a.SAFARI},isChrome(){return this.getBrowser()===n.a.CHROME},isFirefox(){return this.getBrowser()===n.a.FIREFOX}};t.b=s},TqFJ:function(e,t,i){var a=i("q1tI"),n=i("v/Q4"),s=i("U4JR"),r=i("pLLR"),o=i("n6mq"),l=i("Xy1J"),c=i("Lic6"),d=i("nKUr");function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends a.Component{constructor(...e){super(...e),h(this,"state",{canPlayVideo:!1,playbackState:l.f.LOADING}),h(this,"componentDidMount",()=>{const{playing:e}=this.props;Object(c.c)("videoMounted",!1),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(l.e,{initiator:"mount"}))}),h(this,"componentDidUpdate",(e,t)=>{const{playing:i}=this.props;t.playbackState!==l.f.PAUSED&&t.playbackState!==l.f.SEEKING&&t.playbackState!==l.f.STALLING&&!1===e.playing&&i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,this.logPlaybackPerformance(l.e,{initiator:"update"}))}),h(this,"hasSegmentStarted",!1),h(this,"hasPlaybackStarted",!1),h(this,"hasVideoSessionStarted",!1),h(this,"hasVideoSessionEnded",!1),h(this,"lastStartPlayTime",null),h(this,"lastStallTime",null),h(this,"videoRefSetTime",null),h(this,"videoSessionId",""),h(this,"videoVisibleTime",null),h(this,"playbackPerformance",{canPlayTime:null,fatalErrorMsg:null,loadStartTime:null,numStalls:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?this.props.src:this.props.src[0].src,totalStallDurationMs:0}),h(this,"addSegment",()=>{const{canPlayTime:e,loadStartTime:t,segments:i,srcString:a}=this.playbackPerformance;let n=-1;e&&t&&0===i.length&&(n=e>t?e-t:0);const s=this.videoPlayerRef&&this.videoPlayerRef.video,r={indicatedKbps:-1,duration:s&&s.duration*l.c||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:n,switchBitrateKbps:-1,uri:a,viewportWidth:s&&s.clientWidth||-1,viewportHeight:s&&s.clientHeight||-1,watchedDurationMs:0};i.push(r)}),h(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*l.c:0),h(this,"getVideoResourceTiming",()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),h(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:i,videoStartTime:a}=this.props,{canPlayVideo:n}=this.state;Object(c.c)("handleCanPlayVideo",!1,{firstCanPlayEvent:!n,playing:i}),n||(this.playbackPerformance.canPlayTime=new Date,null!=a&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=a)),this.setState({canPlayVideo:!0}),t&&t(e)}),h(this,"handleEnded",e=>{const{loop:t,onEnded:i}=this.props,{segments:a}=this.playbackPerformance,n=a&&a[a.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),n&&(n.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(l.d,{initiator:"videoEnded",loop:t}),this.setState({playbackState:l.f.ENDED}),i&&i(e)}),h(this,"handleError",()=>{this.playbackPerformance.fatalErrorMsg="Video failed loading",this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:l.f.FAILED})}),h(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),h(this,"handlePlaying",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0),this.hasSegmentStarted||this.addSegment();const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime()),t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now()),this.updateStallDuration(),this.setState({playbackState:l.f.PLAYING})}),h(this,"handlePause",()=>{this.state.playbackState!==l.f.STALLING&&this.state.playbackState!==l.f.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:l.f.PAUSED})}),h(this,"handleSeeking",()=>{const{segments:e}=this.playbackPerformance;(e&&e[e.length-1]).lastStartPlayTime=null,this.state.playbackState!==l.f.ENDED&&this.setState({playbackState:l.f.SEEKING})}),h(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==l.f.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1,this.setState({playbackState:l.f.STALLING}))}),h(this,"handleTimeUpdate",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];this.state.playbackState===l.f.PLAYING&&(this.updateWatchDurationForCurrentSegment(),null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime()))}),h(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("error",this.handleError),e.addEventListener("loadstart",this.handleLoadStart),e.addEventListener("playing",this.handlePlaying),e.addEventListener("pause",this.handlePause),e.addEventListener("seeking",this.handleSeeking),e.addEventListener("stalled",this.handleStalled),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("waiting",this.handleStalled),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),h(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),h(this,"updateWatchDurationForCurrentSegment",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,a=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof a&&"number"==typeof i){const e=a-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),h(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:i,userId:a}=this.props,{canPlayTime:n,fatalErrorMsg:r,loadStartTime:o,numStalls:d,playbackStartTimestamp:h,srcString:u}=this.playbackPerformance,p=this.videoPlayerRef&&this.videoPlayerRef.video,m=e===l.e,b=m&&!this.hasVideoSessionStarted,y=!m&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(p&&(b||y)){var f;let b=-1;n&&o&&(b=n>o?n-o:0);let y=-1;n&&this.videoVisibleTime&&(y=n>this.videoVisibleTime?n-this.videoVisibleTime:0);const g=this.getVideoResourceTiming(),v={averageVideoKbps:-1,downloadedKiloBytes:"number"==typeof(null==g?void 0:g.decodedBodySize)&&g.decodedBodySize/l.b||0,isCellular:!1,fatalError:!!r,nativeVideoDurationMs:p.duration*l.c||-1,numberOfStalls:d,overallWatchedDurationMs:-1,rebufferRate:-1,playbackStartTimestamp:h||-1,segments:[],sessionMark:e,screenPixelRatio:null!==(f=window)&&void 0!==f&&f.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:p.clientWidth,startupPlayerHeight:p.clientHeight,startupTimeMs:b,startupLatencyMs:y,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:p.videoWidth,startupVariantHeight:p.videoHeight,videoUrl:u};if(m)this.videoSessionId=Object(l.g)(a);else{this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=this.playbackPerformance.segments.reduce((e,t)=>e+(t.watchedDurationMs||0),0);v.rebufferRate=this.playbackPerformance.totalStallDurationMs/e,v.overallWatchedDurationMs=e,v.startupVariantWatchedDurationMs=e,v.segments=this.playbackPerformance.segments}Object(c.a)(v,!1),Object(s.b)(3606,{...i,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:v}}),m?this.hasVideoSessionStarted=!0:(this.videoSessionId="",this.hasVideoSessionEnded=!0),Object(c.c)(m?"sessionStart":"sessionEnd",!1,t)}})}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(l.d,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:r,captions:l,controls:c,loop:h,loopOveride:u,objectFit:p,onDurationChange:m,onFullscreenChange:b,onLoadedChange:y,onPause:f,onPlay:g,onPlayheadDown:v,onPlayheadUp:S,onSeek:P,onTimeChange:w,onVolumeChange:T,playbackRate:E,playing:D,playsInline:L,poster:j,preload:x,src:k,volume:C}=this.props,{canPlayVideo:O}=this.state;return Object(d.jsx)(o.fb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:r,captions:l,controls:c,loop:void 0===u?h:u,objectFit:p,onDurationChange:m,onEnded:this.handleEnded,onFullscreenChange:b,onLoadedChange:y,onPause:f,onPlay:g,onPlayheadDown:v,onPlayheadUp:S,onReady:this.handleCanPlayVideo,onSeek:P,onTimeChange:w,onVolumeChange:T,playbackRate:E,playing:O&&D,playsInline:L,poster:j,preload:x,ref:this.setVideoPlayerRef,src:k,volume:C})}}t.a=Object(a.memo)((function(e){const{country:t,isAuthenticated:i,isBot:a,isSocialBot:s,unauthId:o,userAgent:l}=Object(r.d)(),{browserName:h,browserVersion:p}=l,{contextLogData:m={}}=e,{view:b,viewParameter:y}=m,f=Object(n.a)(),g={browserName:h,browserVersion:p,country:t,isAuthenticated:i,isBot:a,isSocialBot:s,view:b,viewParameter:y};return Object(c.b)(g),Object(d.jsx)(u,{...e,userId:f.id||o})}))},Xy1J:function(e,t,i){i.d(t,"e",(function(){return n})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"g",(function(){return d}));var a=i("7Cbv");const n=1,s=2,r=1e3,o=1e3,l=1e3,c=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,SEEKING:3,STALLING:4,FAILED:5,ENDED:6});function d(e){return e+"-"+Object(a.a)()}},YGxj:function(e,t,i){i.d(t,"a",(function(){return h}));var a=i("q1tI"),n=i("c4Fo"),s=i("BcvT"),r=i("n6mq"),o=i("nKUr");function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends a.PureComponent{constructor(...e){super(...e),l(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:i,idealDirection:a}=this.props,n=i.slice(-3);return Object(o.jsx)(r.I,{anchor:e,color:"white",idealDirection:a,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:Object(o.jsxs)(r.e,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[Object(o.jsx)(r.e,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:Object(o.jsx)(r.Y,{color:"darkGray",weight:"bold",children:t})}),Object(o.jsx)(r.e,{display:"flex",marginEnd:-2,paddingX:2,children:n.map(e=>Object(o.jsx)(r.e,{height:60,width:50,paddingX:1,children:Object(o.jsx)(r.B,{rounding:2,height:60,children:Object(o.jsx)(r.w,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h extends a.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,i){return t&&e.text.replace("{boardName}",t),i?i(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:l,flyoutSize:d,fontSize:h,idealDirection:u,useMasonryFlyout:p,noClickToDismiss:m,onClickComplete:b,onClickDismiss:y,placementId:f,positionRelativeToAnchor:g,shouldTimeoutDismiss:v,showCaret:S,textAlign:P,textOverflow:w,textOverrideFn:T,textWeight:E,customizedComplete:D}=this.props,L=t||(({children:e})=>p?Object(o.jsx)(r.y,{children:e}):e),j="blue";return Object(o.jsx)(n.a,{experienceIds:i,placementId:f,type:8,children:({complete:t,dismiss:i,display_data:n})=>(this.setDefaultPulsarTooltip(n),n.has_pulsar||n.has_tooltip?(v&&n.disappearTime&&n.disappearTime>0&&(this.timer=setTimeout(()=>(i(),null),n.disappearTime)),Object(o.jsxs)(a.Fragment,{children:[n.has_pulsar&&Object(o.jsx)(s.a,{anchor:e,onTouch:()=>this.handlePulsarClick(n.has_tooltip,t),paused:this.state.paused}),n.has_tooltip&&(!n.has_pulsar||this.state.paused)&&(n.thumbnail_urls?Object(o.jsx)(c,{anchor:e,dismiss:i,idealDirection:u||"down",text:n.text,thumbnails:n.thumbnail_urls}):Object(o.jsx)(L,{children:Object(o.jsx)(r.I,{anchor:e,color:j,idealDirection:u||"down",onDismiss:m?()=>{}:i,positionRelativeToAnchor:!p&&g,shouldFocus:!1,showCaret:S,size:d,children:Object(o.jsxs)(r.e,{column:12,padding:3,children:[Object(o.jsx)(r.Y,{align:P,color:"white",overflow:w,size:h,weight:E||"bold",children:this.getText(n,l,T)}),n.sub_text&&Object(o.jsx)(r.e,{paddingY:2,children:Object(o.jsx)(r.Y,{color:"white",size:h,children:n.sub_text})}),(n.dismiss_button_text||n.complete_button_text)&&Object(o.jsxs)(r.e,{display:"flex",alignItems:"center",marginTop:2,children:[n.dismiss_button_text&&Object(o.jsx)(r.e,{marginEnd:1,column:6,children:Object(o.jsx)(r.f,{color:j,onClick:()=>{y&&y(),i()},size:"md",text:n.dismiss_button_text})}),n.complete_button_text&&Object(o.jsx)(r.e,{column:n.dismiss_button_text?6:12,children:D?Object(o.jsx)(r.X,{fullHeight:!0,onTap:()=>{t(),b&&b()},rounding:2,children:Object(o.jsx)(r.e,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:Object(o.jsx)(r.Y,{color:"blue",weight:"bold",children:n.complete_button_text})})}):Object(o.jsx)(r.f,{color:"white",size:"md",text:n.complete_button_text,onClick:()=>{t(),b&&b()}})})]})]})})}))]})):(t(),null))})}}d(h,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},ZVOf:function(e,t,i){i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return d}));var a=i("eOdZ"),n=i("/X16");function s(e,t){return a.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t){return{type:n.a.USER_FOLLOW,payload:{id:e,value:t}}}function o(e,t=null){return i=>{s(e,t).callCreate().catch(()=>i(r(e,!1))),i(r(e,!0))}}function l(e,t=null){return async i=>{i(r(e,!0)),await s(e,t).callCreate().catch(t=>{throw i(r(e,!1)),t})}}function c(e,t=null){return i=>{s(e,t).callDelete().catch(()=>i(r(e,!0))),i(r(e,!1))}}function d(e,t=null){return async i=>{i(r(e,!1)),await s(e,t).callDelete().catch(t=>{throw i(r(e,!0)),t})}}},aFfM:function(e,t,i){var a=i("q1tI"),n=i("ulZh"),s=i.n(n),r=i("v/Q4"),o=i("U4JR"),l=i("pLLR"),c=i("n6mq"),d=i("Xy1J"),h=i("Lic6"),u=i("nKUr");function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends a.PureComponent{constructor(...e){super(...e),p(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:d.f.LOADING}),p(this,"firstFragBuffered",!1),p(this,"hasPlaybackStarted",!1),p(this,"hasVideoSessionStarted",!1),p(this,"hasVideoSessionEnded",!1),p(this,"hls",null),p(this,"fragStartupTime",{}),p(this,"lastLevelSwitchKbps",null),p(this,"lastStallTime",null),p(this,"videoSessionId",""),p(this,"videoVisibleTime",null),p(this,"playbackPerformance",{canPlayTime:null,downloadedKiloBytes:0,fatalErrorMsg:"",hasFatalError:!1,loadStartTime:null,numStalls:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?this.props.src:this.props.src[0].src,totalStallDurationMs:0,videoCreatedTime:null}),p(this,"initializeHls",()=>{this.destroyHls();const{src:e,hlsConfig:t}=this.props,i=new s.a(t);i.loadSource(e),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(s.a.Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(s.a.Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(s.a.Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(s.a.Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(s.a.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),i.on(s.a.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(s.a.Events.ERROR,this.handleHlsError),this.hls=i}),p(this,"destroyHls",()=>{const{hls:e}=this;e&&e.destroy()}),p(this,"addSegment",e=>{const{segments:t}=this.playbackPerformance,i=t&&t[t.length-1];if(this.hls&&t.length&&i&&i.uri!==e.url){this.updateWatchDurationForCurrentSegment();const i=this.videoPlayerRef&&this.videoPlayerRef.video,a=this.hls&&this.hls.levels||{},n=this.hls&&"number"==typeof this.hls.currentLevel?a[this.hls.currentLevel]:{},s=this.fragStartupTime[e.url];let r=-1;s&&s.startLoadTime&&s.endLoadTime&&(r=s.endLoadTime-s.startLoadTime);const o={indicatedKbps:n.bitrate/d.a,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/d.a||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:n.width,sourceHeight:n.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:i&&i.clientWidth||-1,viewportHeight:i&&i.clientHeight||-1,watchedDurationMs:0};t.push(o)}}),p(this,"initializeSegments",e=>{const{segments:t}=this.playbackPerformance;if(!t.length)if(this.hls&&"number"==typeof this.hls.currentLevel&&this.videoPlayerRef&&this.videoPlayerRef.video){if(!t.length){const i=this.videoPlayerRef&&this.videoPlayerRef.video,a=this.hls.levels[this.hls.currentLevel]||{},n=this.fragStartupTime[e.url];let s=-1;n&&n.startLoadTime&&n.endLoadTime&&(s=n.endLoadTime-n.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/d.a;const r={indicatedKbps:a.bitrate/d.a,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/d.a||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:s,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:i.clientWidth,viewportHeight:i.clientHeight,watchedDurationMs:0};t.push(r)}}else Object(h.c)("initializeSegmentsFailed",!0)}),p(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*d.c:null),p(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:i}=this.props,{canPlayVideo:a}=this.state;Object(h.c)("handleCanPlayVideo",!0,{firstCanPlayEvent:!a,playing:i}),a||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),t&&t(e)}),p(this,"handleEnded",e=>{const{loop:t,onEnded:i}=this.props,{segments:a}=this.playbackPerformance,n=a&&a[a.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),n&&(n.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(d.d,{initiator:"videoEnded",loop:t}),this.setState({playbackState:d.f.ENDED}),i&&i(e)}),p(this,"handleHlsError",(e,t)=>{t.fatal&&(this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.fatalErrorMsg=t.details),this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:d.f.FAILED})}),p(this,"handleHlsFragBuffered",(e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)}),p(this,"handleHlsFragChanged",(e,t)=>{this.addSegment(t.frag)}),p(this,"handleHlsFragLoading",(e,t)=>{var i;const a=null===(i=t.frag)||void 0===i?void 0:i.url;a&&!this.fragStartupTime[a]&&(this.fragStartupTime[a]={startLoadTime:new Date})}),p(this,"handleHlsFragLoaded",(e,t)=>{var i;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/d.b);const a=null===(i=t.frag)||void 0===i?void 0:i.url;a&&this.fragStartupTime[a]&&this.fragStartupTime[a].startLoadTime&&(this.fragStartupTime[a].endLoadTime=new Date)}),p(this,"handleHlsLevelSwitched",()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/d.a)}),p(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),p(this,"handlePlaying",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0),this.initializeSegments(),t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime()),t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now()),this.updateStallDuration(),this.setState({playbackState:d.f.PLAYING})}),p(this,"handlePause",()=>{this.state.playbackState!==d.f.STALLING&&this.state.playbackState!==d.f.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.updateStallDuration()),this.setState({playbackState:d.f.PAUSED})}),p(this,"handleSeeking",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==d.f.ENDED&&this.setState({playbackState:d.f.SEEKING})}),p(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==d.f.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1),this.setState({playbackState:d.f.STALLING})}),p(this,"handleTimeUpdate",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];this.state.playbackState===d.f.PLAYING&&(this.updateWatchDurationForCurrentSegment(),t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime()))}),p(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadstart",this.handleLoadStart),e.addEventListener("playing",this.handlePlaying),e.addEventListener("pause",this.handlePause),e.addEventListener("seeking",this.handleSeeking),e.addEventListener("stalled",this.handleStalled),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("waiting",this.handleStalled),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),p(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),p(this,"updateWatchDurationForCurrentSegment",()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,a=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof a&&"number"==typeof i){const e=a-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),p(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:i,userId:a}=this.props,{canPlayTime:n,downloadedKiloBytes:s,hasFatalError:r,playbackStartTimestamp:l,segments:c,srcString:u,loadStartTime:p,numStalls:m}=this.playbackPerformance,b=this.videoPlayerRef&&this.videoPlayerRef.video,y=e===d.e,f=y&&!this.hasVideoSessionStarted,g=!y&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&b&&(f||g)){var v;let f=-1;n&&p&&(f=n>p?n-p:0);let g=-1;n&&this.videoVisibleTime&&(g=n>this.videoVisibleTime?n-this.videoVisibleTime:0);const S={averageVideoKbps:-1,downloadedKiloBytes:s,isCellular:!1,fatalError:r,nativeVideoDurationMs:b.duration*d.c||-1,numberOfStalls:m,overallWatchedDurationMs:-1,rebufferRate:-1,playbackStartTimestamp:l||-1,segments:[],sessionMark:e,screenPixelRatio:null!==(v=window)&&void 0!==v&&v.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:b.clientWidth,startupPlayerHeight:b.clientHeight,startupTimeMs:f,startupLatencyMs:g,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:b.videoWidth,startupVariantHeight:b.videoHeight,videoUrl:u};if(y)this.videoSessionId=Object(d.g)(a);else if(c.length>0){const e=this.hls.levels,t=c[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const i=c.reduce((t,i)=>t+(e[i.level]||{}).bitrate*(i.watchedDurationMs||0)/d.c,0),a=c.reduce((e,t)=>e+(t.watchedDurationMs||0),0);let n=null,s=0,r=0;do{s+=c[r].watchedDurationMs,n=n||c[r].level,r+=1}while(r<c.length&&c[r].level===n);S.startupVariantKbps=t.indicatedKbps,S.startupVariantWatchedDurationMs=s,S.startupVariantWidth=t.sourceWidth,S.startupVariantHeight=t.sourceHeight,S.overallWatchedDurationMs=a,a>0?(S.averageVideoKbps=i/(a/d.c),S.rebufferRate=this.playbackPerformance.totalStallDurationMs/a):0===a&&(S.averageVideoKbps=0,S.rebufferRate=0),S.segments=c}Object(h.a)(S,!0),Object(o.b)(3606,{...i,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:S}}),y?this.hasVideoSessionStarted=!0:(this.videoSessionId="",this.hasVideoSessionEnded=!0),Object(h.c)(y?"sessionStart":"sessionEnd",!0,t)}})}componentDidMount(){const{playing:e}=this.props;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),Object(h.c)("videoMounted",!0),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(d.e,{initiator:"mount"}))}componentDidUpdate(e,t){const{playing:i,src:a}=this.props;var n,s;(typeof(n=e.src)!=typeof(s=a)||(Array.isArray(s)?n.length!==s.length||s.some((e,t)=>!Array.isArray(n)||e.type!==n[t].type||e.src!==n[t].src):s!==n))&&this.initializeHls(),t.playbackState!==d.f.PAUSED&&t.playbackState!==d.f.SEEKING&&t.playbackState!==d.f.STALLING&&!1===e.playing&&i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,this.logPlaybackPerformance(d.e,{initiator:"update"}))}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(d.d,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:r,captions:o,controls:l,loop:d,loopOveride:h,onDurationChange:p,onFullscreenChange:m,onLoadedChange:b,onPause:y,onPlay:f,onPlayheadDown:g,onPlayheadUp:v,onSeek:S,onTimeChange:P,onVolumeChange:w,playbackRate:T,playing:E,playsInline:D,poster:L,preload:j,src:x,volume:k}=this.props,{canPlayVideo:C,isManifestParsed:O}=this.state;return Object(u.jsx)(c.fb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:a,accessibilityPlayLabel:n,accessibilityUnmuteLabel:s,aspectRatio:r,captions:o,controls:l,loop:void 0===h?d:h,onDurationChange:p,onEnded:this.handleEnded,onFullscreenChange:m,onLoadedChange:b,onPause:y,onPlay:f,onPlayheadDown:g,onPlayheadUp:v,onReady:this.handleCanPlayVideo,onSeek:S,onTimeChange:P,onVolumeChange:w,playbackRate:T,playing:O&&C&&E,playsInline:D,poster:L,preload:j,ref:this.setVideoPlayerRef,src:x,volume:k})}}t.a=Object(a.memo)((function(e){const{country:t,isAuthenticated:i,isBot:a,isSocialBot:n,unauthId:s,userAgent:o}=Object(l.d)(),{browserName:c,browserVersion:d}=o,{contextLogData:p={}}=e,{view:b,viewParameter:y}=p,f=Object(r.a)(),g={browserName:c,browserVersion:d,country:t,isAuthenticated:i,isBot:a,isSocialBot:n,view:b,viewParameter:y};return Object(h.b)(g),Object(u.jsx)(m,{...e,userId:f.id||s})}))},d90F:function(e,t,i){var a=i("ESls");i.d(t,"a",(function(){return a.a}))},jgRP:function(e,t,i){i.d(t,"a",(function(){return a}));const a=e=>{if("undefined"==typeof window)return"";let t=0;const i=document.querySelector('[data-test-id="header"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:i}=e.getBoundingClientRect();t+=i}break;case"SearchItem":const i=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const a=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==a){const{height:e}=a.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},jmst:function(e,t,i){var a=i("q1tI"),n=i("i8i4"),s=i.n(n),r=i("nKUr");function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l=new Map;let c=null;const d=e=>{e.forEach(e=>{const t=l.get(e.target);t&&t(e)})};t.a=e=>{class t extends a.Component{constructor(...e){super(...e),o(this,"seen",!1),o(this,"flushTimeout",null),o(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),o(this,"leave",()=>{const e=this._node;e&&(e=>l.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),o(this,"observe",e=>{try{this._node=s.a.findDOMNode(this)}catch(a){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,i=this._node;((e,t="-64px 0px 0px 0px",i)=>{const a={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};c=c||new window.IntersectionObserver(d,a),l.set(e,i),c.observe(e)})(i,e,e=>{if(!l.has(i))return;const a=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,n=this.props.trackFullVisible?e.intersectionRatio>=1:a,s=this.props.trackFullVisible?0===e.intersectionRatio:!n;!this.seen&&n?this.enter(e):this.seen&&s&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{c.unobserve(e),l.delete(e)})(e))}render(){return Object(r.jsx)(e,{...this.props})}}return o(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},nGHF:function(e,t,i){i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o}));var a=i("1dBE");const{Provider:n,Consumer:s,useHook:r,HOC:o}=Object(a.a)("toastManagerContext")},qpbZ:function(e,t,i){function a(e,t,i){return e.split(i).map(e=>{if(e.match(i)){const i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e})}i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return l}));const n=/(\{\{\s*\w+\s*\}\})/g;function s(e,t){return a(e,t,n)}function r(e,t){return a(e,t,n).join("")}const o=/(\{\s*\w+\s*\})/g;function l(e,t){return a(e,t,o)}},vZlu:function(e,t,i){i.d(t,"f",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"e",(function(){return l}));const a=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function n(e){const{currentTime:t,isPromoted:i,pinId:a}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:a,isPromoted:i,currentTime:t}}}function s(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function r(e){const{currentTime:t,isPromoted:i,pinId:a}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:a,isPromoted:i}}}function o(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function l(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}},vvax:function(e,t,i){var a=i("qpbZ");i.d(t,"b",(function(){return a.b})),i.d(t,"a",(function(){return a.a}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68-530964258ecea78b585d.mjs.map